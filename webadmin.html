<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Apache TomEE</title>
	<meta name="description"
		  content="Apache TomEE is a lightweight, yet powerful, JavaEE Application server with feature rich tooling." />
	<meta name="keywords" content="tomee,asf,apache,javaee,jee,shade,embedded,test,junit,applicationcomposer,maven,arquillian" />
	<meta name="author" content="Luka Cvetinovic for Codrops" />
	<link rel="icon" href="favicon.ico">
	<link rel="icon"  type="image/png" href="favicon.png">
	<meta name="msapplication-TileColor" content="#80287a">
	<meta name="theme-color" content="#80287a">
	<link rel="stylesheet" type="text/css" href="css/normalize.css">
	<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="css/owl.css">
	<link rel="stylesheet" type="text/css" href="css/animate.css">
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.1.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="fonts/eleganticons/et-icons.css">
	<link rel="stylesheet" type="text/css" href="css/jqtree.css">
	<link rel="stylesheet" type="text/css" href="css/idea.css">
	<link rel="stylesheet" type="text/css" href="css/cardio.css">

	<script type="text/javascript">
		<!-- Matomo -->
		var _paq = window._paq = window._paq || [];
		/* tracker methods like "setCustomDimension" should be called before "trackPageView" */
		/* We explicitly disable cookie tracking to avoid privacy issues */
		_paq.push(['disableCookies']);
		_paq.push(['trackPageView']);
		_paq.push(['enableLinkTracking']);
		(function () {
			var u = "//matomo.privacy.apache.org/";
			_paq.push(['setTrackerUrl', u + 'matomo.php']);
			_paq.push(['setSiteId', '5']);
			var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0];
			g.async = true;
			g.src = u + 'matomo.js';
			s.parentNode.insertBefore(g, s);
		})();
		<!-- End Matomo Code -->
    </script>
</head>

<body>
    <div class="preloader">
		<img src="img/loader.gif" alt="Preloader image">
	</div>
	    <nav class="navbar">
		<div class="container">
		  <div class="row">          <div class="col-md-12">

			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="/" title="Apache TomEE">
				    <span>

				    
                        <img 
							src="img/apache_tomee-logo.svg"
							onerror="this.src='img/apache_tomee-logo.jpg'"
							height="50"
							>
                    

                    </span>
                </a>
			</div>
			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav navbar-right main-nav">
					<li><a href="docs.html">Documentation</a></li>
					<li><a href="community/index.html">Community</a></li>
					<li><a href="security/security.html">Security</a></li>
					<li><a class="btn btn-accent accent-orange no-shadow" href="download.html">Downloads</a></li>
				</ul>
			</div>
			<!-- /.navbar-collapse -->
		   </div></div>
		</div>
		<!-- /.container-fluid -->
	</nav>


    <div id="main-block" class="container main-block">
        <div class="row title">
          <div class="col-md-12">
            <div class='page-header'>
              
              <h1>Webadmin</h1>
            </div>
          </div>
        </div>
        <div class="row">
            
            <div class="col-md-12">
                <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Webadmin is a new addition to OpenEJB 1.0 and very innovative in that it lets you plug-in your own admin beans.
Here are some screenshots:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://tomee.apache.org/images/webadmin-main.png">Main</a></p>
</li>
<li>
<p><a href="http://tomee.apache.org/images/webadmin-ejbdetails.png">EJB Details</a></p>
</li>
<li>
<p><a href="http://tomee.apache.org/images/webadmin-listlogs.png">List Logs</a></p>
</li>
<li>
<p><a href="http://tomee.apache.org/images/webadmin-properties.png">System Properties</a></p>
</li>
<li>
<p><a href="http://tomee.apache.org/images/webadmin-viewjndi.png">JNDI Viewer</a></p>
</li>
<li>
<p><a href="http://tomee.apache.org/images/webadmin-ejbviewer.png">EJB Viewer</a></p>
</li>
<li>
<p><a href="http://tomee.apache.org/images/webadmin-objectinvoker.png">Object and EJB Invoker</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_enabling_the_webadmin_in_1_0_beta_1">Enabling the Webadmin in 1.0 beta 1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Webadmin console is in the 1.0 beta 1 release.
To enable it, simply move into the openejb.home directory and <em>copy</em> the openejb-webadmin-main.jar from the <em>beans</em> directory into the <em>lib</em> directory.
Then start the server.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mingus:~/
$ cd /usr/local/openejb-1.0-beta1

mingus:/usr/local/openejb-1.0-beta1 03:37:33
$ cp beans/openejb-webadmin-main.jar lib/

mingus:/usr/local/openejb-1.0-beta1 03:37:52
$ ./bin/openejb start
OPENEJB_HOME = /usr/local/openejb-1.0-beta1
OpenEJB 1.0-beta1    build: 20050829-2233
http://www.openejb.org
resources 1
OpenEJB ready.
[init]  OpenEJB Remote Server
  ** Starting Services **
  NAME		       IP	       PORT
  admin thread	       127.0.0.1       4200
  ejbd		       127.0.0.1       4201
  telnet	       127.0.0.1       4202
  webadmin	       127.0.0.1       4203
-------
Ready!</pre>
</div>
</div>
<div class="paragraph">
<p>Now you can open your browser to go to <a href="http://localhost:4203/" class="bare">http://localhost:4203/</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_webadmin_beans">WebAdmin Beans</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To create an EJB and have it included as part of the WebAdmin, simply subclass from WebAdminBean and include it in your ejb-jar.xml file as such:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;session&gt;
  &lt;description&gt;A JNDI viewer&lt;/description&gt;
  &lt;ejb-name&gt;webadmin/ViewJndi&lt;/ejb-name&gt;
  &lt;home&gt;org.openejb.webadmin.HttpHome&lt;/home&gt;
  &lt;remote&gt;org.openejb.webadmin.HttpObject&lt;/remote&gt;
  &lt;ejb-class&gt;org.openejb.webadmin.clienttools.ViewJndiBean&lt;/ejb-class&gt;
  &lt;session-type&gt;Stateless&lt;/session-type&gt;
  &lt;transaction-type&gt;Bean&lt;/transaction-type&gt;
&lt;/session&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The ejb-name is used to create the menus and should follow the format of 'menu-section/menu-item'.
WebAdminBeans are grouped together by the 'menu-section' portion of their ejb-name.
The 'menu-item' is the clickable link that causes the EJB code to be execute.
Very simple and makes it possible to package administrative components with your EJB applications.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_webadmin_plugins">WebAdmin Plugins</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Here is a project that already takes advantage of the new feature.
[BeanGen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://beangen.sourceforge.net" class="bare">http://beangen.sourceforge.net</a>]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_developers_guide">Developers guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Below is David Blevins' email on how webadmin worked.
Please have a look at the text below before you start working on porting the existing WebAdmin to version 3.</p>
</div>
<div class="paragraph">
<p>Plain old stateless beans were used as the "servlets".
To make a bean that would show up in the Webadmin Console you simply had to implement the HttpBean interface (i think it&#8217;s now called HttpListener) and give your bean a deploymentId following this format "webadmin/{section}/{page}".
Anyone could add to the Webadmin console by doing both of these things, which is really cool as people developing EJB apps can also deploy beans for administering those apps right in the exact same jar.
This is not only easy for packaging but means new sections can be added/removed on the fly.</p>
</div>
<div class="paragraph">
<p>Using the described "webadmin/{section}/{page}" deploymentId format, things end up automagically grouped in the JNDI tree.
There&#8217;s a 'webadmin' context we grab which will contain any number of "section" contexts ("ClientTools", "EJBGenerator", etc.).
Each of those section subcontexts will contain several beans which we will use to make the pages.
Making the menu is pretty easy as we just iterate over the webadmin section of the global jndi tree.</p>
</div>
<div class="paragraph">
<p>When an http request came in we just took the path part of the GET or POST request, prepended "webadmin/" and then went looking for a bean with that deployment id and invoked it via it&#8217;s HttpBean (now called HttpListener) interface passing in a HttpRequest and HttpResponse objects which are trimmed down versions of similar servlet classes.
There&#8217;ll be some changes to this as now we support our plain ejb protocol over our http implementation, so the two will have to find a way to share the URL space.
See the openejb-http module.</p>
</div>
<div class="paragraph">
<p>To implement session state, we had a stateful session bean implementing an HttpSession interface (again, similar to the servlet equivalent) and simply wrote the internal ID of the bean instance into a Cookie sent to the browser.
For some reason we would write the javax.ejb.Handle of the stateful bean&#8217;s EJBObject to disk and read it back out on subsequent requests then used it to get a reference to the EJBObject again.
I&#8217;m not sure why we didn&#8217;t just keep a static hashmap and put the EJBObject right in it using an ID we could just make up like UUID (that would have been way simpler).</p>
</div>
<div class="paragraph">
<p>We had a standard superclass we favored for beans that implemented the HttpBean (HttpListener) interface that did templating and the aforementioned menu  construction.
The templating was perhaps too tricky as we used a non-printable character to determine where to insert data.
Now we could just use swizzle-stream for some pretty decent templating ability or even velocity.
I&#8217;d be hesitant to endorse velocity as we already have a dep on swizzle-stream and wouldn&#8217;t want to see us add another meg to our distro size if we can avoid it&#8201;&#8212;&#8201;we have like 3 times as many deps as 1.0 did and we should probably start tightening the belt.</p>
</div>
<div class="paragraph">
<p>To serve static things like images, we had a "default" HttpBean which searched for the items in the classpath and wrote them into the response setting the mime type, etc.
correctly.
One thing that we never did which still needs to happen is that the bean didn&#8217;t have the logic to set the modification information into the response so the "If modified since" header which would allow the browser to rely on it&#8217;s cache instead of requesting the same images over and over again.</p>
</div>
<div class="paragraph">
<p>That pretty much covers the way it was put together.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Jndi Viewer, Class Viewer, Ejb Viewer, and Object Invoker were written by yours truly</p>
</li>
<li>
<p>The EJB Generator was written by Jeremy Whitlock</p>
</li>
<li>
<p>Everything else was written by Tim Urberg.
Tim was "WebAdmin guy" for a good long while.
Before Tim came along the webadmin was just some experimental code I had in a branch, he did more than he realizes by putting his energy into it&#8201;&#8212;&#8201;active people attract/ create more active people.
Maybe we can convince him to come back and work on it ;)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>And of course I have to mention our own Paulo Lopes who wrote a really cool project out in SF.net (<a href="http://beangen.sourceforge.net/" class="bare">http://beangen.sourceforge.net/</a>) which was the first plugin for the OpenEJB Webadmin.
He wrote it before we even had shipped a release containing the Webadmin or had any docs at all on it, which in my mind shows just how neat the idea of using ejb&#8217;s and simple conventions to do the console really is.</p>
</div>
<div class="paragraph">
<p>Some notes going forward is that we have a truck load of meta-data now available via SystemInstance.get().get (OpenEjbConfiguration.class).
Certainly JSR-77 is one option, but we could do far better with plain old java code.
That tree is the primary source of meta-data for OpenEJB, it&#8217;s what was used to construct every container, bean, resource adapter, database connector and <em>everything</em> in the system (well, sans the protocols).
Someone new to the project can look at it and understand it without having to read any abstract specs.
Something to consider.
The tree is read only in it&#8217;s function, however it is possible to copy then edit and make new containers, etc.
based on existing definitions.</p>
</div>
<div class="paragraph">
<p>Additionally, using this same data structure it&#8217;s possible to show the potential services available via the service-jar.xml files in the classpath that detail containers, resource adapters, database connectors, etc.
which can be configured/created at runtime.
So we could also display a sort of catalogue of components (aka.
services) that someone could click and deploy via the console.</p>
</div>
</div>
</div>
            </div>
            
        </div>
    </div>
<div style="margin-bottom: 30px;"></div>
<footer>
		<div class="container">
			<div class="row">
				<div class="col-sm-6 text-center-mobile">
					<h3 class="white">Be simple.  Be certified. Be Tomcat.</h3>
					<h5 class="light regular light-white">"A good application in a good server"</h5>
					<ul class="social-footer">
						<li><a href="https://www.facebook.com/ApacheTomEE/"><i class="fa fa-facebook"></i></a></li>
						<li><a href="https://twitter.com/apachetomee"><i class="fa fa-twitter"></i></a></li>
					</ul>
					<h5 class="light regular light-white">
						<a href="privacy-policy.html" class="white">Privacy Policy</a>
					</h5>
				</div>
				<div class="col-sm-6 text-center-mobile">
					<div class="row opening-hours">
						<div class="col-sm-3 text-center-mobile">
							<h5><a href="latest/docs/" class="white">Documentation</a></h5>
							<ul class="list-unstyled">
								<li><a href="latest/docs/admin/configuration/index.html" class="regular light-white">How to configure</a></li>
								<li><a href="latest/docs/admin/file-layout.html" class="regular light-white">Dir. Structure</a></li>
								<li><a href="latest/docs/developer/testing/index.html" class="regular light-white">Testing</a></li>
								<li><a href="latest/docs/admin/cluster/index.html" class="regular light-white">Clustering</a></li>
							</ul>
						</div>
						<div class="col-sm-3 text-center-mobile">
							<h5><a href="latest/examples/" class="white">Examples</a></h5>
							<ul class="list-unstyled">
								<li><a href="latest/examples/simple-cdi-interceptor.html" class="regular light-white">CDI Interceptor</a></li>
								<li><a href="latest/examples/rest-cdi.html" class="regular light-white">REST with CDI</a></li>
								<li><a href="latest/examples/ejb-examples.html" class="regular light-white">EJB</a></li>
								<li><a href="latest/examples/jsf-managedBean-and-ejb.html" class="regular light-white">JSF</a></li>
							</ul>
						</div>
						<div class="col-sm-3 text-center-mobile">
							<h5><a href="community/index.html" class="white">Community</a></h5>
							<ul class="list-unstyled">
								<li><a href="community/contributors.html" class="regular light-white">Contributors</a></li>
								<li><a href="community/social.html" class="regular light-white">Social</a></li>
								<li><a href="community/sources.html" class="regular light-white">Sources</a></li>
							</ul>
						</div>
						<div class="col-sm-3 text-center-mobile">
							<h5><a href="security/index.html" class="white">Security</a></h5>
							<ul class="list-unstyled">
								<li><a href="https://apache.org/security" target="_blank" class="regular light-white">Apache Security</a></li>
								<li><a href="https://apache.org/security/projects.html" target="_blank" class="regular light-white">Security Projects</a></li>
								<li><a href="https://cve.mitre.org" target="_blank" class="regular light-white">CVE</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="row bottom-footer text-center-mobile">
				<div class="col-sm-12 light-white">
					<p>Copyright &copy; 1999-2022 The Apache Software Foundation, Licensed under the Apache License, Version 2.0. Apache TomEE, TomEE, Apache, the Apache feather logo, and the Apache TomEE project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.</p>
				</div>
			</div>
		</div>
	</footer>
	<!-- Holder for mobile navigation -->
	<div class="mobile-nav">
        <ul>
          <li><a hef="latest/docs/admin/index.html">Administrators</a>
          <li><a hef="latest/docs/developer/index.html">Developers</a>
          <li><a hef="latest/docs/advanced/index.html">Advanced</a>
          <li><a hef="community/index.html">Community</a>
        </ul>
		<a href="#" class="close-link"><i class="arrow_up"></i></a>
	</div>
	<!-- Scripts -->
	<script src="js/jquery-1.11.1.min.js"></script>
	<script src="js/owl.carousel.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/wow.min.js"></script>
	<script src="js/typewriter.js"></script>
	<script src="js/jquery.onepagenav.js"></script>
	<script src="js/tree.jquery.js"></script>
	<script src="js/highlight.pack.js"></script>
    <script src="js/main.js"></script>
		</body>

</html>

